(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[6],{103:function(t,e,n){t.exports={root:"styles_root___dqf0"}},110:function(t,e,n){t.exports={root:"styles_root__2zmhi",completed:"styles_completed__1vJ92"}},114:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(273),c=n(82),o=n(83),i=n(153),s=Object(o.createEvent)();c.d.$tasks.on(s,(function(t,e){return Object(i.a)(t,(function(t){var n=t[e];n.completed=!n.completed}))}));var a={toggleTask:s},u=n(3),d=function(t){var e=t.taskId,n=t.withStatus,o=void 0===n||n,i=c.d.selectors.useTask(e);if(!i)return null;var s=c.c.getTaskStatus(i);return Object(u.jsx)(r.a,{onClick:function(){return a.toggleTask(e)},checked:i.completed,children:o&&s})}},250:function(t,e,n){t.exports={root:"styles_root__2xBs6",toolbar:"styles_toolbar__XbG9C",content:"styles_content__l0uG9"}},272:function(t,e,n){"use strict";n.r(e);var r=n(268),c=n(257),o=n(267),i=n(260),s=n(72),a=n(10),u=n(99),d=n(83),l=n(269),f=n(82),j={1:{id:1,title:"All",config:{}},2:{id:2,title:"Opened",config:{completed:!1}},3:{id:3,title:"Closed",config:{completed:!0}}},b=Object.values(j),O=n(3),p=Object(u.reflect)({view:function(t){var e=t.loading,n=t.onFilterClick;return Object(O.jsx)(l.a.Group,{defaultValue:1,buttonStyle:"solid",children:b.map((function(t){var r=t.title,c=t.id;return Object(O.jsx)(l.a.Button,{onClick:function(){return n(function(t){return j[t]}(c).config)},value:c,disabled:e,children:r},c)}))})},bind:{loading:f.d.$tasksListLoading,onFilterClick:f.d.events.setQueryConfig}}),k=n(114),v=n(250),_=n.n(v),m=Object(u.list)({view:function(t){var e=t.task;return Object(O.jsx)(i.a,{span:24,children:Object(O.jsx)(f.b,{data:e,titleHref:"/".concat(e.id),before:Object(O.jsx)(k.a,{taskId:e.id,withStatus:!1})})},e.id)},source:f.d.$tasksFiltered,bind:{},mapItem:{task:function(t){return t}}}),g=Object(u.variant)({source:Object(d.combine)({isLoading:f.d.$tasksListLoading,isEmpty:f.d.$tasksListEmpty},(function(t){var e=t.isLoading,n=t.isEmpty;return e?"loading":n?"empty":"ready"})),cases:{loading:function(){return Object(O.jsx)(s.a,{size:"large"})},empty:function(){return Object(O.jsx)(a.a,{description:"No tasks found"})},ready:m},hooks:{mounted:f.d.effects.getTasksListFx.prepend((function(){}))}});e.default=function(){return Object(O.jsxs)(r.a,{className:_.a.root,children:[Object(O.jsxs)(r.a,{className:_.a.toolbar,children:[Object(O.jsx)(c.a,{justify:"center",children:Object(O.jsx)(o.a.Title,{level:1,children:"Tasks List"})}),Object(O.jsx)(c.a,{justify:"center",children:Object(O.jsx)(p,{})})]}),Object(O.jsx)(r.a.Content,{className:_.a.content,children:Object(O.jsx)(c.a,{gutter:[0,20],justify:"center",children:Object(O.jsx)(g,{})})})]})}},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return T})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return i}));var r={};n.r(r),n.d(r,"getTasksList",(function(){return D})),n.d(r,"getTaskById",(function(){return I}));var c={};n.r(c),n.d(c,"tasks",(function(){return r}));var o={};n.r(o),n.d(o,"taskSchema",(function(){return H})),n.d(o,"normalizeTask",(function(){return w})),n.d(o,"normalizeTasks",(function(){return U})),n.d(o,"tasksInitialState",(function(){return B})),n.d(o,"$tasks",(function(){return K})),n.d(o,"$queryConfig",(function(){return W})),n.d(o,"$tasksListLoading",(function(){return z})),n.d(o,"$taskDetailsLoading",(function(){return V})),n.d(o,"$tasksList",(function(){return q})),n.d(o,"$tasksFiltered",(function(){return G})),n.d(o,"$tasksListEmpty",(function(){return J})),n.d(o,"events",(function(){return Q})),n.d(o,"effects",(function(){return X})),n.d(o,"selectors",(function(){return M}));var i={};n.r(i),n.d(i,"getTaskStatus",(function(){return Y}));var s=n(91),a=n(98),u=n(266),d=n(19),l=n(103),f=n.n(l),j=n(3),b=["data","titleHref","children"],O=function(t){var e=t.data,n=t.titleHref,r=t.children,c=Object(a.a)(t,b);return e||c.loading?Object(j.jsxs)(u.a,Object(s.a)(Object(s.a)({title:"Task#".concat(c.loading?"":null===e||void 0===e?void 0:e.id),className:f.a.root},c),{},{children:[n?Object(j.jsx)(d.b,{to:n,children:null===e||void 0===e?void 0:e.title}):null===e||void 0===e?void 0:e.title,r]})):null},p=n(102),k=n(8),v=n.n(k),_=n(257),m=n(110),g=n.n(m),T=function(t){var e=t.data,n=t.before,r=t.titleHref?Object(j.jsx)(d.b,{to:"/payments",children:"Payments"}):e.title;return Object(j.jsxs)(_.a,{className:v()(g.a.root,Object(p.a)({},g.a.completed,e.completed)),children:[n,r]})},E=n(83),h=n(100),y=n(151),S=n(141),x=n.n(S),L=function(t){if(void 0===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jsonplaceholder.typicode.com"})[t])throw new Error("Env variable ".concat(t," is required"));return Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jsonplaceholder.typicode.com"})[t]||""},C=L("REACT_APP_API_URL"),P=(L("NODE_ENV"),x.a.create({baseURL:C})),R=["taskId"],A="/todos",D=function(t){return P.get(A,{params:t})},I=function(t){var e=t.taskId,n=Object(a.a)(t,R);return P.get("".concat(A,"/").concat(e),{params:n})},N=Object(E.createEvent)(),$=Object(E.createEffect)((function(t){return c.tasks.getTasksList(t)})),F=Object(E.createEffect)((function(t){return c.tasks.getTaskById(t)})),H=new y.b.Entity("tasks"),w=function(t){return Object(y.a)(t,H)},U=function(t){return Object(y.a)(t,[H])},B={},K=Object(E.createStore)(B).on($.doneData,(function(t,e){return U(e.data).entities.tasks})).on(F.doneData,(function(t,e){return Object(s.a)(Object(s.a)({},t),w(e.data).entities.tasks)})),W=Object(E.createStore)({}).on(N,(function(t,e){return e})),z=$.pending,V=F.pending,q=Object(E.combine)(K,(function(t){return Object.values(t)})),G=Object(E.combine)(q,W,(function(t,e){return t.filter((function(t){return void 0===e.completed||t.completed===e.completed}))})),J=G.map((function(t){return 0===t.length})),Q={setQueryConfig:N},X={getTaskByIdFx:F,getTasksListFx:$},M={useTask:function(t){return Object(h.useStore)(K)[t]}},Y=function(t){return t.completed?"CLOSED":"OPENED"}}}]);
//# sourceMappingURL=6.b08a67d3.chunk.js.map